name: "lab3"
prefix: ""

topology:
  kinds:
    nokia_srlinux:
      image: ghcr.io/nokia/srlinux:latest
    linux:
      image: ghcr.io/srl-labs/network-multitool:latest
  nodes:
    leaf1:
      kind: nokia_srlinux
    leaf2:
      kind: nokia_srlinux
    spine1:
      kind: nokia_srlinux
    spine2:
      kind: nokia_srlinux
    client10:
      kind: linux
      exec:
        - ip link set address 00:c1:ab:00:00:10 dev eth1
        - ip addr add 192.168.101.10/24 dev eth1
        - ip route add 192.168.102.0/24 via 192.168.101.1
    client11:
      kind: linux
      exec:
        - ip link set address 00:c1:ab:00:00:11 dev eth1
        - ip addr add 192.168.101.11/24 dev eth1
        - ip route add 192.168.102.0/24 via 192.168.101.1
    client12:
      kind: linux
      exec:
        - ip link set address 00:c1:ab:00:00:12 dev eth1
        - ip addr add 192.168.101.12/24 dev eth1
        - ip route add 192.168.102.0/24 via 192.168.101.1
    client20:
      kind: linux
      exec:
        - ip link set address 00:c1:ab:00:00:20 dev eth1
        - ip addr add 192.168.102.10/24 dev eth1
        - ip route add 192.168.101.0/24 via 192.168.102.1


  links:
    - endpoints: ["leaf1:e1-1", "spine1:e1-1"]
      ipv4: ["10.1.1.1/31", "10.1.1.0/31"]
    - endpoints: ["leaf1:e1-2", "spine2:e1-1"]
      ipv4: ["10.2.1.1/31", "10.2.1.0/31"]
    - endpoints: ["leaf2:e1-1", "spine1:e1-2"]
      ipv4: ["10.1.2.1/31", "10.1.2.0/31"]
    - endpoints: ["leaf2:e1-2", "spine2:e1-2"]
      ipv4: ["10.2.2.1/31", "10.2.2.0/31"]
    - endpoints: ["client10:eth1", "leaf1:e1-10"]
    - endpoints: ["client11:eth1", "leaf1:e1-11"]
    - endpoints: ["client12:eth1", "leaf1:e1-12"]
    - endpoints: ["client20:eth1", "leaf2:e1-10"]



